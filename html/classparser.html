<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>My Project: parser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classparser-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">parser Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a524a47c2135c4048ef7f450b0b0a5c40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structparVectorMap.html">parVectorMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classparser.html#a524a47c2135c4048ef7f450b0b0a5c40">parsear</a> (ifstream *fich, bool v)</td></tr>
<tr class="separator:a524a47c2135c4048ef7f450b0b0a5c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a524a47c2135c4048ef7f450b0b0a5c40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structparVectorMap.html">parVectorMap</a> parser::parsear </td>
          <td>(</td>
          <td class="paramtype">ifstream *&#160;</td>
          <td class="paramname"><em>fich</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>El cometido de esta función es analizar sintáctica y semánticamente el programa a fin de encontrar posibles errores y evitar operaciones ilegales en la máquina. Para ello lee el fichero de entrada por lineas, las cuales a su vez subdivide en tokens que son analizados individualmente. Un buffer es empleado en ciertas situaciones de incertidumbre para uardar tokens que en el momento podrían ser tanto opcodes como etiquetas.</p>
<p>Funciona como un dfa con la siguietne tabla de transiciones:</p>
<p>| Estado | [jJ]* | : | /d | [*,=] | Otro caso | Consideraciones | |-----&mdash;+----&mdash;+----&mdash;+----&mdash;+----&mdash;+-------------------&mdash;+-------------------------------------------------------&mdash;| | 0 | 2 | 3 | Error | Error | Guardar en buffer, 1 | Buff puede contener un opcode o una etiqueta de entrada | | 1 | 2 | 3 | 0 | 4 | Error | Ya hemos averiguado qué es el buffer | | 2 | Error | Error | Error | Error | 0 | El token contiene la etiqueta de salida, Fin instrucción | | 3 | 2 | Error | Error | Error | 5 | El token contiene el opcode | | 4 | Error | Error | 0 | Error | Error | Fin instrucción | | 5 | Error | Error | 0 | 4 | Error | La instrucción no puede ser de salto |</p>
<p>Además, para cuaquier estado en caso de encontrar ';' se aborta el análisis de toda la línea. Esta arquitectura permite dotar de una mayor robustez al programa al tiempo que que facilita al usuario la detección de errores mediante el uso de un debugger muy primitivo asociado a la misma. De igual forma, provee al programa de la capacidad de trabajar con instrucciones con espaciado ambiguo, p.e. etiqueta: vs etiqueta : ó LOAD =1 vs LOAD = 1</p>
<p>La función devuelve un struct con un vector de instrucciones (traducidas a un lennguaje máquina interno basado en números enteros en vez de cadenas para un mejor aprovechamiento de los recursos del computador) y un map de pares etiquetas/etiquetas codificadas como enteros, en este caso, negativos. La existencia de este objeto map se justifica en una pseudo implementación de MMU capaz de detectar saltos a etiquetas sin definir</p>
<p>En caso de que el análisis falle, el vector devuelto tendrá tamaño 0 </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="parser_8h_source.html">parser.h</a></li>
<li>parser.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
